<!-- Chosen Palette: Minimalistic Tech (Dark Blue/Gray with Emerald Green accent) -->
<!-- Application Structure Plan: Dashboard & Thematic Drill-Down. Structure starts with an Executive Summary (KPI cards + Financial Impact) to establish the core finding immediately. This is followed by Overall Statistical Results (dynamic bar chart) providing visual proof. The final section, Segmentation Explorer, uses interactive tabs to allow drill-down into Positive, Neutral, and Negative segments. This flow (Summary -> Proof -> Detail) prioritizes business understanding and is chosen over mirroring the Jupyter Notebook structure to maximize usability for managers/PMs. -->
<!-- Visualization & Content Choices: Summary: Overall Metrics -> Goal: Inform/Compare -> Viz: Dynamic Bar Charts -> Interaction: Toggle switch between Avg Pay and Conversion, Tab selection for segmentation. Justification: Bar charts clearly compare Test vs Control. The interactive segmentation allows focused exploration of the report's key nuance (non-uniform regional effect). Library/Method: Chart.js for all visualizations; JS for state management and dynamic UI updates. -->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A/B –¢–µ—Å—Ç: –ü—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –î–∞—à–±–æ—Ä–¥)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #10b981;
            --dark-gray: #1f2937;
            --light-bg: #f9fafb;
            --positive: #10b981;
            --negative: #ef4444;
            --neutral: #9ca3af;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--light-bg); color: var(--dark-gray); }
        .accent-color { color: var(--accent); }
        .accent-bg { background-color: var(--accent); }
        .kpi-card { border-left: 6px solid var(--accent); }
        .chart-container { position: relative; width: 100%; max-width: 800px; height: 350px; margin-left: auto; margin-right: auto; }
        @media (min-width: 640px) { .chart-container { height: 400px; } }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="min-h-screen">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è (–ó–∞–≥–æ–ª–æ–≤–æ–∫) -->
        <header class="bg-white shadow-md">
            <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8">
                <div class="flex items-center space-x-4">
                    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
                    <a href="../index.html" class="inline-flex items-center px-4 py-2 text-sm font-semibold text-white accent-bg rounded-lg shadow-md hover:opacity-90 transition duration-150">
                        &#x2190; –ù–∞–∑–∞–¥
                    </a>
                    
                    <h1 class="text-2xl sm:text-3xl font-extrabold text-gray-800">
                        üìä A/B-—Ç–µ—Å—Ç: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ü—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (B2B)
                    </h1>
                </div>
                <p class="text-sm text-gray-500 mt-1 pl-16">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –≤–ª–∏—è–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –Ω–∞ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—é.</p>
            </div>
        </header>

        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
            <!-- –°–µ–∫—Ü–∏—è 1: –†–µ–∑—é–º–µ –∏ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç -->
            <section id="summary" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 accent-color">–ö–ª—é—á–µ–≤—ã–µ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
                <p class="text-gray-700 mb-6 max-w-3xl">–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–≤—ã–≤–æ–¥—ã. –û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≥–∏–ø–æ—Ç–µ–∑—É: –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ —É–ª—É—á—à–∞—é—Ç –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏. –î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—á–µ—Å—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—é, —Ç–∞–∫ –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–µ–Ω.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 1: –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ -->
                    <div class="bg-white p-6 rounded-xl shadow-lg kpi-card border-l-4" style="border-left-color: var(--positive);">
                        <p class="text-sm font-medium text-gray-500">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ (–ü—Ä–∏—Ä–æ—Å—Ç)</p>
                        <p class="text-3xl font-extrabold mt-1 text-green-600">+11.9%</p>
                        <p class="text-xs text-gray-500 mt-2">P-value: 4.41e-21 (–ó–Ω–∞—á–∏–º–æ)</p>
                    </div>

                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 2: –ö–æ–Ω–≤–µ—Ä—Å–∏—è -->
                    <div class="bg-white p-6 rounded-xl shadow-lg kpi-card border-l-4" style="border-left-color: var(--positive);">
                        <p class="text-sm font-medium text-gray-500">–ö–æ–Ω–≤–µ—Ä—Å–∏—è (–ü—Ä–∏—Ä–æ—Å—Ç)</p>
                        <p class="text-3xl font-extrabold mt-1 text-green-600">+4.3 –ø.–ø.</p>
                        <p class="text-xs text-gray-500 mt-2">P-value: 5.30e-20 (–ó–Ω–∞—á–∏–º–æ)</p>
                    </div>

                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 3: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –±–∞–ª–∞–Ω—Å -->
                    <div class="bg-white p-6 rounded-xl shadow-lg kpi-card border-l-4" style="border-left-color: var(--accent);">
                        <p class="text-sm font-medium text-gray-500">–û–±—â–∏–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –±–∞–ª–∞–Ω—Å</p>
                        <p class="text-3xl font-extrabold mt-1 text-gray-800">237,337.93 ‚ÇΩ</p>
                        <p class="text-xs text-gray-500 mt-2">–ß–∏—Å—Ç—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –≤—ã—Ä—É—á–∫–∏ –æ—Ç –¢–¢ —Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º.</p>
                    </div>

                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 4: –û—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã -->
                    <div class="bg-white p-6 rounded-xl shadow-lg kpi-card border-l-4" style="border-left-color: var(--neutral);">
                        <p class="text-sm font-medium text-gray-500">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –≤—ã–±–æ—Ä–∫–µ</p>
                        <p class="text-3xl font-extrabold mt-1 text-gray-800">45,841</p>
                        <p class="text-xs text-gray-500 mt-2">–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¢–¢.</p>
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è 2: –û–±—â–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è -->
            <section id="metrics" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 accent-color">–û–±—â–µ–µ –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ</h2>
                <p class="text-gray-700 mb-6 max-w-3xl">–ì—Ä–∞—Ñ–∏–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Å—É–º–º—ã –ø–ª–∞—Ç–µ–∂–µ–π –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É —Ç–µ—Å—Ç–æ–≤–æ–π (–ø–æ–ª—É—á–∞–ª–∏ –ø—É—à–∏) –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π (–ø–æ–ª—É—á–∞–ª–∏ –±–∞–Ω–Ω–µ—Ä—ã) –≥—Ä—É–ø–ø–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–ª—è —Å–º–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏.</p>

                <div class="flex justify-center mb-6">
                    <button id="toggle-chart" class="px-6 py-2 rounded-lg text-white font-semibold accent-bg hover:opacity-90 transition duration-150">
                        –¢–µ–∫—É—â–∞—è –º–µ—Ç—Ä–∏–∫–∞: –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
                    </button>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="chart-container">
                        <canvas id="mainChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è 3: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è -->
            <section id="segmentation" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 accent-color">–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –ê–Ω–∞–ª–∏–∑ –∏ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è</h2>
                <p class="text-gray-700 mb-6 max-w-3xl">–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≥–ª—É–±–∏—Ç—å—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã A/B-—Ç–µ—Å—Ç–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ (–¢–¢) –∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏—Ä–æ—Å—Ç–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø–µ.</p>
                
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    
                    <!-- –í–∫–ª–∞–¥–∫–∏ (Tabs) -->
                    <div class="flex flex-wrap gap-2 mb-6 border-b border-gray-200">
                        <button data-segment="all" class="segment-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent hover:border-gray-500 text-gray-700 transition duration-150 active-tab" style="border-color: var(--accent);">–í—Å–µ –¢–¢ (<span id="all-count"></span>)</button>
                        <button data-segment="positive" class="segment-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent hover:border-gray-500 text-gray-700 transition duration-150">–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (<span id="positive-count"></span>)</button>
                        <button data-segment="neutral" class="segment-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent hover:border-gray-500 text-gray-700 transition duration-150">–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (<span id="neutral-count"></span>)</button>
                        <button data-segment="negative" class="segment-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent hover:border-gray-500 text-gray-700 transition duration-150" style="color: var(--negative);">–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (<span id="negative-count"></span>)</button>
                    </div>

                    <!-- –¢–∞–±–ª–∏—Ü–∞ –∏ –ì—Ä–∞—Ñ–∏–∫ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        
                        <!-- –ö–æ–ª–æ–Ω–∫–∞ 1: –¢–∞–±–ª–∏—Ü–∞ -->
                        <div class="lg:col-span-1 overflow-auto max-h-[500px]">
                            <h4 class="text-xl font-bold mb-3 text-gray-700" id="segment-title">–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è: –í—Å–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ç–æ—á–∫–∏</h4>
                            <table id="segmentTable" class="min-w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0">
                                    <tr>
                                        <th class="px-3 py-2">–ì–æ—Ä–æ–¥</th>
                                        <th class="px-3 py-2">–¢–¢ ID</th>
                                        <th class="px-3 py-2">–ü—Ä–∏—Ä–æ—Å—Ç (—Ä—É–±.)</th>
                                    </tr>
                                </thead>
                                <tbody id="segmentTableBody">
                                    <!-- Dynamic content here -->
                                </tbody>
                            </table>
                        </div>

                        <!-- –ö–æ–ª–æ–Ω–∫–∞ 2: –ì—Ä–∞—Ñ–∏–∫ -->
                        <div class="lg:col-span-2 flex flex-col items-center">
                            <h4 class="text-xl font-bold mb-3 text-gray-700">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ (–ü—Ä–∏—Ä–æ—Å—Ç, —Ä—É–±.)</h4>
                            <div class="chart-container h-80 sm:h-96 w-full max-w-4xl">
                                <canvas id="segmentChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

             <!-- –°–µ–∫—Ü–∏—è 4: –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è -->
            <section id="methodology" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 accent-color">–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∏ –ß–∏—Å—Ç–æ—Ç–∞ –î–∞–Ω–Ω—ã—Ö</h2>
                <p class="text-gray-700 mb-6 max-w-3xl">–≠—Ç–æ—Ç –∞–Ω–∞–ª–∏–∑ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å—Ç—Ä–æ–≥–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–º –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="card p-5 bg-white shadow-lg">
                        <h3 class="text-xl font-bold mb-3">üõ† –ú–µ—Ç–æ–¥—ã –ê–Ω–∞–ª–∏–∑–∞</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li><strong>T-—Ç–µ—Å—Ç –£—ç–ª—á–∞:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π (—Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, –∫–æ–Ω–≤–µ—Ä—Å–∏—è), —Å —É—á–µ—Ç–æ–º –Ω–µ—Ä–∞–≤–Ω—ã—Ö –¥–∏—Å–ø–µ—Ä—Å–∏–π.</li>
                            <li><strong>–ö—Ä–∏—Ç–µ—Ä–∏–π –ú–∞–Ω–Ω–∞-–£–∏—Ç–Ω–∏:</strong> –ü—Ä–∏–º–µ–Ω–µ–Ω –∫–∞–∫ –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Å—É–º–º –ø–ª–∞—Ç–µ–∂–µ–π.</li>
                            <li><strong>–£—Ä–æ–≤–µ–Ω—å –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏:</strong> –ü—Ä–∏–Ω—è—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ Œ± = 0.05.</li>
                        </ul>
                    </div>
                    <div class="card p-5 bg-white shadow-lg">
                        <h3 class="text-xl font-bold mb-3">üî¨ –ß–∏—Å—Ç–æ—Ç–∞ –î–∞–Ω–Ω—ã—Ö –∏ –í–∞–ª–∏–¥–∞—Ü–∏—è</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li>–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ <strong>—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</strong> –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ –±–µ–∑ —Å—É–º–º—ã –ø–ª–∞—Ç–µ–∂–∞ –∏–ª–∏ ID –∫–ª–∏–µ–Ω—Ç–∞).</li>
                            <li>–ü—Ä–∏–º–µ–Ω–µ–Ω—ã <strong>–±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞</strong>: —É–¥–∞–ª–µ–Ω—ã —Ç–æ—Ä–≥–æ–≤—ã–µ —Ç–æ—á–∫–∏, –≥–¥–µ —Ç–µ—Å—Ç–æ–≤–∞—è –∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞ –∏–º–µ–ª–∞ –Ω—É–ª–µ–≤—É—é –≤—ã—Ä—É—á–∫—É, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–æ –∏—Å–∫–∞–∂–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞.</li>
                            <li>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏: <strong>45,841</strong>.</li>
                        </ul>
                    </div>
                </div>
                <!-- –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ -->
                <div class="mt-8 text-center">
                    <a href="ab_report.ipynb" target="_blank" class="inline-block px-8 py-3 text-lg font-semibold text-white accent-bg rounded-lg shadow-lg hover:opacity-90 transition duration-300">
                        –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (Python/Jupyter) ‚Üó
                    </a>
                </div>
            </section>

        </main>
    </div>

    <script>
        const APP_DATA = {
            OVERALL: {
                avgPayTest: 2446.70, avgPayControl: 2186.10,
                convTest: 0.542, convControl: 0.499, 
                netBalance: 237337.93,
                positiveCount: 17, neutralCount: 33, negativeCount: 3,
            },
            SEGMENTS: [
                { city: '–ö–∞–∑–∞–Ω—å', id: 991, tA: 3249.28, cA: 2452.99, diff: 796.30, label: 'positive', count: 564, percent: 1.23 },
                { city: '–°–ü–±', id: 453, tA: 2501.97, cA: 1889.92, diff: 612.04, label: 'positive', count: 2115, percent: 4.61 },
                { city: '–ú–æ—Å–∫–≤–∞', id: 2652, tA: 2508.89, cA: 1972.85, diff: 536.04, label: 'positive', count: 4643, percent: 10.13 },
                { city: '–°–∞–º–∞—Ä–∞', id: 34, tA: 3104.51, cA: 1752.61, diff: 1351.90, label: 'positive', count: 478, percent: 1.04 },
                { city: '–í–æ–ª–≥–æ–≥—Ä–∞–¥', id: 66, tA: 2288.87, cA: 2601.76, diff: -312.89, label: 'negative', count: 1360, percent: 2.97 },
                { city: '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', id: 1101, tA: 2176.00, cA: 2523.58, diff: -347.58, label: 'negative', count: 1654, percent: 3.61 },
                { city: '–ú–æ—Å–∫–≤–∞', id: 9931, tA: 1415.78, cA: 1968.69, diff: -552.91, label: 'negative', count: 290, percent: 0.63 },
                { city: '–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫', id: 212, tA: 2144.32, cA: 2222.05, diff: -77.74, label: 'neutral', count: 1168, percent: 2.55 },
                { city: '–ù. –ù–æ–≤–≥–æ—Ä–æ–¥', id: 13, tA: 1970.55, cA: 2336.19, diff: -365.64, label: 'neutral', count: 292, percent: 0.64 },
                { city: '–ú—É—Ä–º–∞–Ω—Å–∫', id: 54, tA: 1702.71, cA: 1688.51, diff: 14.20, label: 'neutral', count: 1273, percent: 2.78 },
                { city: '–í–ª–∞–¥–∏–º–∏—Ä', id: 11, tA: 2547.22, cA: 2108.61, diff: 438.61, label: 'positive', count: 1117, percent: 2.44 },
                { city: '–ß–µ—Ö–æ–≤', id: 4, tA: 1785.45, cA: 1689.92, diff: 95.53, label: 'neutral', count: 198, percent: 0.43 },
                { city: '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', id: 1015, tA: 2750.31, cA: 2655.88, diff: 94.43, label: 'neutral', count: 1460, percent: 3.18 },
            ],
            currentMetric: 'avgPay',
            chartInstance: null,
            segmentChartInstance: null,
        };

        const updateKPIs = () => {
            document.getElementById('positive-count').textContent = APP_DATA.OVERALL.positiveCount;
            document.getElementById('neutral-count').textContent = APP_DATA.OVERALL.neutralCount;
            document.getElementById('negative-count').textContent = APP_DATA.OVERALL.negativeCount;
            document.getElementById('all-count').textContent = APP_DATA.OVERALL.positiveCount + APP_DATA.OVERALL.neutralCount + APP_DATA.OVERALL.negativeCount;
        };

        const formatLabel = (value) => {
            const label = value.toString();
            if (label.length <= 16) return label;
            return label.split(' ').reduce((acc, word) => {
                if (acc.length === 0 || acc[acc.length - 1].length + word.length + 1 > 16) {
                    acc.push(word);
                } else {
                    acc[acc.length - 1] += ' ' + word;
                }
                return acc;
            }, []);
        };

        const renderMainChart = () => {
            const ctx = document.getElementById('mainChart').getContext('2d');
            
            let data, title, labels, format;
            
            if (APP_DATA.currentMetric === 'avgPay') {
                title = '–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞ (—Ä—É–±.)';
                labels = ['–¢–µ—Å—Ç (–ü—É—à–∏)', '–ö–æ–Ω—Ç—Ä–æ–ª—å (–ë–∞–Ω–Ω–µ—Ä—ã)'];
                data = [APP_DATA.OVERALL.avgPayTest, APP_DATA.OVERALL.avgPayControl];
                format = (value) => value.toFixed(2) + ' ‚ÇΩ';
            } else {
                title = '–ö–æ–Ω–≤–µ—Ä—Å–∏—è (%)';
                labels = ['–¢–µ—Å—Ç (–ü—É—à–∏)', '–ö–æ–Ω—Ç—Ä–æ–ª—å (–ë–∞–Ω–Ω–µ—Ä—ã)'];
                data = [APP_DATA.OVERALL.convTest * 100, APP_DATA.OVERALL.convControl * 100];
                format = (value) => value.toFixed(1) + ' %';
            }
            
            const yScalesConfig = {
                title: { display: true, text: '–ó–Ω–∞—á–µ–Ω–∏–µ' },
            };

            if (APP_DATA.currentMetric === 'avgPay') {
                yScalesConfig.min = 1000;
            }


            if (APP_DATA.chartInstance) {
                APP_DATA.chartInstance.destroy();
            }

            APP_DATA.chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: title,
                        data: data,
                        backgroundColor: [globalGetStyle('--accent'), globalGetStyle('--neutral')],
                        borderColor: [globalGetStyle('--accent'), globalGetStyle('--neutral')],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: title, font: { size: 16 } },
                        tooltip: {
                            callbacks: {
                                label: (context) => `${context.dataset.label}: ${format(context.raw)}`,
                                title: (context) => formatLabel(context[0].label),
                            }
                        }
                    },
                    scales: {
                        y: yScalesConfig,
                        x: { ticks: { callback: formatLabel } }
                    }
                }
            });
        };

        const renderSegmentChart = (data) => {
            const ctx = document.getElementById('segmentChart').getContext('2d');
            
            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é —ç—Ñ—Ñ–µ–∫—Ç–∞ (diff)
            const sortedData = [...data].sort((a, b) => b.diff - a.diff);

            const labels = sortedData.map(d => `${d.city} (–¢–¢ ${d.id})`);
            const values = sortedData.map(d => d.diff);
            const colors = sortedData.map(d => {
                if (d.label === 'positive') return globalGetStyle('--positive');
                if (d.label === 'negative') return globalGetStyle('--negative');
                return globalGetStyle('--neutral');
            });

            if (APP_DATA.segmentChartInstance) {
                APP_DATA.segmentChartInstance.destroy();
            }

            APP_DATA.segmentChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '–ü—Ä–∏—Ä–æ—Å—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ (—Ä—É–±.)',
                        data: values,
                        backgroundColor: colors,
                        borderColor: colors,
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (context) => `${context.dataset.label}: ${context.raw.toFixed(2)} ‚ÇΩ`,
                                title: (context) => formatLabel(context[0].label),
                            }
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: '–ü—Ä–∏—Ä–æ—Å—Ç (—Ä—É–±.)' } },
                        y: { ticks: { callback: formatLabel } }
                    }
                }
            });
        };

        const updateSegmentView = (segment) => {
            const tableBody = document.getElementById('segmentTableBody');
            const segmentTitle = document.getElementById('segment-title');
            
            let filteredData = [];
            let titleText = '';

            if (segment === 'all') {
                filteredData = APP_DATA.SEGMENTS;
                titleText = '–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è: –í—Å–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ç–æ—á–∫–∏';
            } else {
                filteredData = APP_DATA.SEGMENTS.filter(d => d.label === segment);
                titleText = `–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è: –¢–¢ —Å ${segment === 'positive' ? '–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º' : segment === 'negative' ? '–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º' : '–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º'} —ç—Ñ—Ñ–µ–∫—Ç–æ–º`;
            }

            segmentTitle.textContent = titleText;
            tableBody.innerHTML = '';

            filteredData.sort((a, b) => b.diff - a.diff).forEach(d => {
                const row = document.createElement('tr');
                const diffClass = d.diff > 0 ? 'text-green-600 font-semibold' : d.diff < 0 ? 'text-red-600 font-semibold' : 'text-gray-600';
                row.className = 'border-b hover:bg-gray-50';
                row.innerHTML = `
                    <td class="px-3 py-2">${d.city}</td>
                    <td class="px-3 py-2">${d.id}</td>
                    <td class="px-3 py-2 ${diffClass}">${d.diff.toFixed(2)}</td>
                `;
                tableBody.appendChild(row);
            });
            
            document.querySelectorAll('.segment-tab').forEach(tab => {
                tab.classList.remove('active-tab');
                tab.style.borderColor = 'transparent';
                if (tab.dataset.segment === segment) {
                    tab.classList.add('active-tab');
                    tab.style.borderColor = globalGetStyle('--accent');
                }
            });

            renderSegmentChart(filteredData);
        };

        document.addEventListener('DOMContentLoaded', () => {
            updateKPIs();
            renderMainChart();
            updateSegmentView('all');

            document.getElementById('toggle-chart').addEventListener('click', (e) => {
                APP_DATA.currentMetric = APP_DATA.currentMetric === 'avgPay' ? 'conversion' : 'avgPay';
                e.target.textContent = APP_DATA.currentMetric === 'avgPay' ? '–¢–µ–∫—É—â–∞—è –º–µ—Ç—Ä–∏–∫–∞: –°—Ä–µ–¥–Ω–∏–π —á–µ–∫' : '–¢–µ–∫—É—â–∞—è –º–µ—Ç—Ä–∏–∫–∞: –ö–æ–Ω–≤–µ—Ä—Å–∏—è';
                renderMainChart();
            });

            document.querySelectorAll('.segment-tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const segment = e.target.dataset.segment;
                    updateSegmentView(segment);
                });
            });
        });

        const globalGetStyle = (varName) => {
            return getComputedStyle(document.documentElement).getPropertyValue(varName).trim();
        };

        Chart.defaults.color = globalGetStyle('--dark-gray');
        Chart.defaults.borderColor = globalGetStyle('--neutral');
        
        Chart.defaults.set('datasets', {
            backgroundColor: globalGetStyle('--accent'), 
            borderColor: globalGetStyle('--accent'),
        });
        
    </script>

</body>
</html>
